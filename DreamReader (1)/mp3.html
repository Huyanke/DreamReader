<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/jquery-1.11.0.js"></script>
	</head>
	<style type="text/css">

	</style>
	<body>

		   <!--<audio controls="controls">
			  <source src="Halo.mp3" class="MusicBtn">
			</audio>-->
			<audio src="Halo.mp3" id="music"></audio>
			<input type="button" value="play" class="play"/>
			<input type="button" value="stop" class="stop"/>




			<span class="img"></span>
	</body>
</html>
<script type="text/javascript">
//	$(".play").click(function() {
//		$("audio").get(0).play();
//	})
//	$(".stop").click(function() {
//		$("audio").get(0).pause();
//	})

   var
	isPlay = false,
	progress = 0,
	duration = 0,
    $playMusic = $('.play'),
	$music=$('#music'),
	music = $music.get(0)

/*播放*/
$playMusic.on('click', function() {
   	if (isPlay == false) {
		iplay();
	} else {
		nplay();
	}
});

 /*播放状态*/
function iplay() {
	$('.stop').show();
	$('.play').hide();
	music.play();
	isPlay = true;
	x = setInterval(function() {
		progress = music.currentTime;
        duration = music.duration;
		console.log("歌曲时长：" + progress + "~~~~~~~现在的时间：" + duration);

    /*判断歌曲是否播放结束*/
	 if (progress == duration) {

          $('.stop').hide();
	      $('.play').show();
          music.pause();
	      isPlay = false;

	  }
	}, 500);
};


/*暂停状态*/
function nplay() {
	$('.stop').hide();
	$('.play').show();
	music.pause();
	isPlay = false;
	clearInterval(x);
};
</script>
